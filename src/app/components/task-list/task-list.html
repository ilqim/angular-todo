<div class="task-container">
  <div class="task-grid">
    <div class="task-header">
      <div class="header-item">Durum</div>
      <div class="header-item">GÃ¶rev Bilgileri</div>
      <div class="header-item">Kategori</div>
      <div class="header-item">Ã–ncelik</div>
      <div class="header-item">BitiÅŸ Tarihi</div>
      <div class="header-item">Ä°ÅŸlemler</div>
    </div>

    <div class="task-row" *ngFor="let task of tasks" [class.completed]="task.isCompleted">
      <!-- Durum - Checkbox -->
      <div class="task-cell status-cell" data-label="Durum: ">
        <label class="checkbox-container">
          <input
            type="checkbox"
            [checked]="task.isCompleted"
            (change)="onToggleComplete(task.id!)"
          />
          <span class="checkmark"></span>
        </label>
      </div>

      <!-- GÃ¶rev Bilgileri -->
      <div class="task-cell task-info" data-label="GÃ¶rev: ">
        <div class="task-title" [class.completed-text]="task.isCompleted">
          {{ task.title }}
        </div>
        <div class="task-description" *ngIf="task.description" [class.completed-text]="task.isCompleted">
          {{ getTruncatedDescription(task.description) }}
        </div>
      </div>

      <!-- Kategori -->
      <div class="task-cell category-cell" data-label="Kategori: ">
        <span class="category-badge" [ngClass]="'category-' + task.category.toLowerCase()">
          {{ task.category }}
        </span>
      </div>

      <!-- Ã–ncelik -->
      <div class="task-cell priority-cell" data-label="Ã–ncelik: ">
        <button class="priority-btn" [class]="'priority-' + task.priority.toLowerCase()" disabled>
          {{ task.priority }}
        </button>
      </div>

      <!-- BitiÅŸ Tarihi -->
      <div class="task-cell date-cell" data-label="BitiÅŸ Tarihi: " [class.completed-text]="task.isCompleted">
        {{ task.dueDate | date:'dd/MM/yyyy' }}
      </div>

      <!-- Ä°ÅŸlemler -->
      <div class="task-cell actions-cell" data-label="Ä°ÅŸlemler: ">
        <button class="action-btn edit-btn" [routerLink]="['/tasks/edit', task.id]" title="DÃ¼zenle">
          <span>âœï¸</span>
        </button>
        <button class="action-btn delete-btn" (click)="onDelete(task.id!, task.title)" title="Sil">
          <span>ğŸ—‘ï¸</span>
        </button>
      </div>
    </div>
  </div>

  <!-- Silme Onay Modal'Ä± -->
  <div class="modal-overlay" *ngIf="showDeleteModal" (click)="closeModal()">
    <div class="modal-content" (click)="$event.stopPropagation()">
      <div class="modal-title">GÃ¶revi Sil</div>
      <div class="modal-message">
        <strong>"{{ taskToDelete?.title }}"</strong> gÃ¶revini gerÃ§ekten silmek istiyor musunuz?<br>
        Bu iÅŸlem geri alÄ±namaz.
      </div>
      <div class="modal-buttons">
        <button class="modal-btn modal-btn-cancel" (click)="closeModal()">
          Ä°ptal
        </button>
        <button class="modal-btn modal-btn-confirm" (click)="confirmDelete()">
          Eminim, Sil
        </button>
      </div>
    </div>
  </div>
</div>